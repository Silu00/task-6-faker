<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake User Generator - Archive Mode</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --bg-paper: #f2f0e9;
            --ink-black: #121212;
            --accent-orange: #ff5e3a;
            --accent-blue: #3d5a80;
            --highlight: #e0e722;
            --border-width: 2px;
        }

        body {
            background-color: var(--bg-paper);
            color: var(--ink-black);
            font-family: 'Space Mono', monospace;
            background-image: radial-gradient(#dcd8cc 1px, transparent 1px);
            background-size: 20px 20px;
            min-height: 100vh;
        }

        h1 {
            font-family: 'Syne', sans-serif;
            font-weight: 800;
            text-transform: uppercase;
            font-size: 3.5rem;
            line-height: 0.9;
            letter-spacing: -2px;
            margin-bottom: 2.5rem;
            color: var(--ink-black);
            text-shadow: 3px 3px 0px rgba(0,0,0,0.1);
        }

        .container { max-width: 1400px !important; }

        .card {
            border: var(--border-width) solid var(--ink-black);
            border-radius: 0;
            background: #fff;
            box-shadow: 6px 6px 0px var(--ink-black);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            margin-bottom: 3rem;
            overflow: visible;
        }

        .form-label {
            font-family: 'Syne', sans-serif;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.3rem;
        }

        .form-control, .form-select {
            border: var(--border-width) solid var(--ink-black);
            border-radius: 0;
            background-color: #fdfdfd;
            padding: 1rem;
            font-family: 'Space Mono', monospace;
            font-size: 1rem;
            box-shadow: none;
        }

        .form-control:focus, .form-select:focus {
            box-shadow: 4px 4px 0px var(--accent-blue);
            border-color: var(--ink-black);
            background-color: #fff;
            transform: translate(-2px, -2px);
        }

        .checkbox-wrapper {
            border: var(--border-width) solid var(--ink-black);
            background-color: #fdfdfd;
            padding: 0.8rem;
            height: 140px;
            overflow-y: auto;
        }

        .form-check {
            margin-bottom: 0.5rem;
            padding-left: 1.8rem;
        }

        .form-check-input {
            border: 2px solid var(--ink-black);
            border-radius: 0;
            width: 1.2em;
            height: 1.2em;
            margin-left: -1.8rem;
            cursor: pointer;
        }

        .form-check-input:checked {
            background-color: var(--ink-black);
            border-color: var(--ink-black);
        }

        .form-check-label {
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s;
            padding: 0 4px;
        }

        .form-check-input:checked + .form-check-label {
            background-color: var(--highlight);
            font-weight: bold;
        }

        .btn-primary {
            background-color: var(--ink-black);
            color: #fff;
            border: none;
            border-radius: 0;
            padding: 1rem 2rem;
            font-family: 'Syne', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 5px 5px 0px var(--accent-orange);
            transition: all 0.2s;
            position: relative;
            top: 0;
        }

        .btn-primary:hover {
            background-color: var(--ink-black);
            box-shadow: 2px 2px 0px var(--accent-orange);
            transform: translate(3px, 3px);
            color: var(--highlight);
        }

        .btn-success {
            background-color: var(--bg-paper);
            color: var(--ink-black);
            border: 2px solid var(--ink-black);
            border-radius: 50px;
            font-weight: 700;
            box-shadow: 3px 3px 0px var(--ink-black);
        }

        .btn-success:hover {
            background-color: var(--highlight);
            color: var(--ink-black);
            border-color: var(--ink-black);
            box-shadow: 1px 1px 0px var(--ink-black);
            transform: translate(2px, 2px);
        }

        .table-responsive { border-top: var(--border-width) solid var(--ink-black); }
        .table { --bs-table-bg: transparent; margin-bottom: 0; }

        .table thead {
            background-color: #ffffff;
            color: var(--ink-black);
            font-family: 'Syne', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 3px solid var(--ink-black);
        }

        .table thead th {
            border: none;
            padding: 1.2rem 1rem;
            font-weight: 700;
        }

        .table tbody tr {
            border-bottom: 1px solid var(--ink-black);
            transition: background-color 0.2s;
        }
        .table tbody tr:hover { background-color: rgba(224, 231, 34, 0.15); }
        .table td { padding: 1.5rem 1rem; vertical-align: top; border-bottom: 1px solid rgba(0,0,0,0.1); }

        .user-id-badge {
            display: inline-block;
            background: #e0e0e0;
            padding: 2px 6px;
            font-size: 0.75rem;
            border: 1px solid #999;
            transform: rotate(-2deg);
        }

        .gender-badge {
            display: inline-block;
            width: 30px;
            height: 30px;
            line-height: 26px;
            text-align: center;
            border-radius: 50%;
            border: 2px solid var(--ink-black);
            font-weight: bold;
        }
        .gender-m { background: #fff; color: var(--ink-black); }
        .gender-k { background: var(--accent-orange); color: #fff; border-color: var(--accent-orange); }

        .data-label {
            display: block;
            font-size: 0.65rem;
            text-transform: uppercase;
            color: #666;
            margin-bottom: 2px;
            letter-spacing: 0.5px;
        }

        .strong-data { font-size: 1.1rem; font-weight: 700; color: var(--ink-black); }

        .geo-coords {
            font-size: 0.75rem;
            font-family: monospace;
            color: var(--accent-blue);
            margin-top: 5px;
            display: block;
        }

        a { color: var(--ink-black); text-decoration: underline; text-decoration-thickness: 2px; }
        a:hover { background-color: var(--highlight); color: var(--ink-black); }

        .card-header { background: #fff; border-bottom: 2px solid var(--ink-black); padding: 1.5rem; }

        .seed-badge {
            font-family: 'Space Mono', monospace;
            background: var(--highlight);
            color: var(--ink-black);
            padding: 4px 10px;
            border: 1px solid var(--ink-black);
            box-shadow: 2px 2px 0 rgba(0,0,0,0.2);
            font-weight: bold;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            .card { box-shadow: 3px 3px 0px var(--ink-black); }
            .table thead { display: none; }
            .table tbody tr { display: block; border: 2px solid var(--ink-black); margin-bottom: 20px; box-shadow: 4px 4px 0 #ddd; padding: 15px; }
            .table td { display: block; padding: 5px 0; border: none; }
        }
    </style>
</head>
<body>

<div class="container py-5">
    <div class="row mb-5 align-items-end">
        <div class="col-lg-8">
            <h1 class="mb-0">Test Data<br><span style="color: var(--accent-orange)">Generator</span></h1>
        </div>
    </div>

    <div class="card">
        <div class="card-body p-4 p-md-5">
            <form action="/" method="get" class="row g-4 align-items-end">
                <div class="col-md-3">
                    <label class="form-label">Select Regions</label>
                    <div class="checkbox-wrapper">
                        {% for code, name in locales %}
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="locale" value="{{ code }}" id="loc_{{ code }}"
                                    {% if code in current_locales %}checked{% endif %}>
                                <label class="form-check-label" for="loc_{{ code }}">
                                    {{ name }} [{{ code }}]
                                </label>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <div class="col-md-4">
                    <label for="seed" class="form-label">Seed (Random Source)</label>
                    <input type="text" class="form-control" name="seed" id="seed" value="{{ seed }}" placeholder="e.g., 'project-alpha'">
                </div>

                <div class="col-md-2">
                    <label for="count" class="form-label">Record Count</label>
                    <input type="number" class="form-control" name="count" id="count" value="{{ user_count }}" min="1" max="1000">
                </div>

                <input type="hidden" name="batch_id" value="1">

                <div class="col-md-3">
                    <button type="submit" class="btn btn-primary w-100">
                        Generate Data
                    </button>
                </div>
            </form>
        </div>
    </div>

    {% if error %}
        <div class="alert alert-danger" style="border: 2px solid red; background: #fff0f0; border-radius: 0; font-weight: bold;">
            ⚠️ SYSTEM ERROR: {{ error }}
        </div>
    {% endif %}

    <div class="card">
        <div class="card-header d-flex flex-wrap justify-content-between align-items-center gap-3">
            <div style="font-family: 'Syne', sans-serif; font-size: 1.1rem;">
                Data Batch: <strong style="font-size: 1.4rem;">#{{ batch_id }}</strong>
                <span class="mx-2">|</span>
                Seed: <span class="seed-badge">{{ seed }}</span>
                <span class="mx-2">|</span>
                Records: <strong>{{ user_count }}</strong>
                <span class="mx-2">|</span>
                Locales: <strong>{{ current_locales|join(', ') }}</strong>
            </div>

            <div class="d-flex gap-2">
                {% if batch_id > 1 %}
                    <a href="/?seed={{ seed }}{% for loc in current_locales %}&locale={{ loc }}{% endfor %}&batch_id={{ batch_id - 1 }}&count={{ user_count }}" class="btn btn-success btn-sm">
                        &larr; Previous Page
                    </a>
                {% endif %}
                <a href="/?seed={{ seed }}{% for loc in current_locales %}&locale={{ loc }}{% endfor %}&batch_id={{ batch_id + 1 }}&count={{ user_count }}" class="btn btn-success btn-sm">
                    Next Page &rarr;
                </a>
            </div>
        </div>
    <div class="card-body p-0">
       <div class="table-responsive">
            <table class="table align-middle">
                <thead>
                    <tr>
                        <th style="width: 50px">#</th>
                        <th style="width: 100px">ID</th>
                        <th style="width: 60px">Gender</th>
                        <th>Personal Data / Address</th>
                        <th>Contact</th>
                        <th>Biometrics</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td style="font-weight: bold; opacity: 0.5;">{{ loop.index }}</td>
                        <td>
                            <code class="user-id-badge">{{ user.user_id }}</code>
                        </td>
                        <td>
                            {% if user.gender == 'M' %}
                                <div class="gender-badge gender-m" title="Male">M</div>
                            {% else %}
                                <div class="gender-badge gender-k" title="Female">F</div>
                            {% endif %}
                        </td>

                        <td>
                            <span class="strong-data">{{ user.full_name }}</span><br>
                            <div style="margin-top: 6px; line-height: 1.3;">
                                {{ user.address_full }}<br>
                                <span class="geo-coords">
                                    [LAT: {{ user.geo_lat|round(4) }} | LON: {{ user.geo_lon|round(4) }}]
                                </span>
                            </div>
                        </td>

                        <td>
                            <span class="data-label">PHONE NUMBER</span>
                            <span style="font-weight: 600;">{{ user.phone_number }}</span><br>
                            <span class="data-label mt-2">EMAIL ADDRESS</span>
                            <a href="mailto:{{ user.email }}">{{ user.email_address }}</a>
                        </td>

                        <td>
                            <div class="row g-2" style="font-size: 0.85rem; max-width: 250px;">
                                <div class="col-6">
                                    <span class="data-label">Height</span> <strong>{{ user.height_cm }}</strong> cm
                                </div>
                                <div class="col-6">
                                    <span class="data-label">Weight</span> <strong>{{ user.weight_kg }}</strong> kg
                                </div>
                                <div class="col-12 mt-1" style="border-top: 1px dashed #ccc; padding-top: 4px;">
                                    <span class="text-muted">Body build:</span> {{ user.body_build }}<br>
                                    <span class="text-muted">Eyes color:</span> {{ user.eye_color }}<br>
                                    <span class="text-muted">Hair color:</span> {{ user.hair_color }}
                                </div>
                            </div>
                        </td>
                    </tr>
                    {% else %}
                        <tr>
                            <td colspan="6" class="text-center py-5">
                                <div style="font-size: 1.5rem; opacity: 0.3; font-weight: bold;">NO DATA IN BUFFER</div>
                                <div class="text-muted">Select at least one region and click GENERATE</div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<footer class="text-center py-4 mt-5" style="opacity: 0.5; font-size: 0.8rem;">
    &copy; 2025 Project Fake Data. Designed by Hubert Siluk.
</footer>

</div>
</body>
</html>